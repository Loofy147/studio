@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles - Using Inter font variable */
body {
  font-family: var(--font-inter), system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  @apply bg-background text-foreground;
  font-feature-settings: "rlig" 1, "calt" 1;
  @apply antialiased;
}

@layer base {
  /* Default Theme (MUI-Inspired) */
  :root {
    --background: 0 0% 96%; /* MUI #f5f5f5 */
    --foreground: 224 71.4% 4.1%; /* Default dark text */
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 210 69% 46%; /* MUI #1976d2 */
    --primary-foreground: 210 40% 98%;
    --secondary: 337 100% 43%; /* MUI #dc004e */
    --secondary-foreground: 337 100% 98%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 180 100% 25.1%; /* Kept original Teal as accent */
    --accent-foreground: 180 100% 96.1%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 210 69% 56%; /* Lighter primary */
    --radius: 0.5rem; /* MUI 8px */

    /* Chart Colors (Example) */
    --chart-1: hsl(var(--primary));
    --chart-2: hsl(var(--secondary)); /* Use secondary for charts */
    --chart-3: hsl(120, 70%, 45%); /* Green */
    --chart-4: hsl(var(--accent)); /* Use accent */
    --chart-5: hsl(50 80% 55%); /* Gold */

    /* Sidebar Theme Variables (Unified - matching light theme) */
    --sidebar-background: hsl(210 20% 98%); /* Light Gray */
    --sidebar-foreground: hsl(224 71.4% 4.1%);
    --sidebar-primary: hsl(var(--primary));
    --sidebar-primary-foreground: hsl(var(--primary-foreground));
    --sidebar-accent: hsl(210 40% 96.1%); /* Muted as accent */
    --sidebar-accent-foreground: hsl(224 71.4% 4.1%);
    --sidebar-border: hsl(var(--border));
    --sidebar-ring: hsl(var(--ring));
  }

  .dark {
    /* Dark Mode Theme (MUI-Inspired) */
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 210 75% 55%; /* Brighter Blue */
    --primary-foreground: 210 75% 5%;
    --secondary: 337 95% 55%; /* Brighter Pink */
    --secondary-foreground: 337 95% 5%;
    --muted: 215 20% 25%;
    --muted-foreground: 215 20% 65%;
    --accent: 180 90% 45%; /* Brighter Teal accent */
    --accent-foreground: 180 90% 5%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 215 15% 35%;
    --input: 215 15% 30%;
    --ring: 210 75% 65%; /* Even brighter blue for focus rings */

    /* Sidebar Dark */
    --sidebar-background: hsl(224 71.4% 4.1%);
    --sidebar-foreground: hsl(210 20% 98%);
    --sidebar-primary: hsl(var(--primary));
    --sidebar-primary-foreground: hsl(var(--primary-foreground));
    --sidebar-accent: hsl(215 25% 16.7%);
    --sidebar-accent-foreground: hsl(210 20% 98%);
    --sidebar-border: hsl(var(--border));
    --sidebar-ring: hsl(var(--ring));
  }

  /* --- REMOVED PER-ROLE THEMES --- */

  /* Define themed variables for Store Categories (using original logic) */
  .theme-category-electronics,
  .theme-category-clothing,
  .theme-category-groceries,
  .theme-category-books,
  .theme-category-home-goods,
  .theme-category-toys,
  .theme-category-restaurants,
  .theme-category-coffee-shops,
  .theme-category-other {
    /* Default accent color */
    --store-accent: hsl(var(--accent));
    --store-accent-foreground: hsl(var(--accent-foreground));
  }

  .theme-category-electronics { --store-accent: hsl(var(--primary)); --store-accent-foreground: hsl(var(--primary-foreground)); }
  .theme-category-clothing { --store-accent: hsl(330, 60%, 60%); --store-accent-foreground: white; }
  .theme-category-groceries { --store-accent: hsl(90, 50%, 50%); --store-accent-foreground: white; }
  .theme-category-books { --store-accent: hsl(30, 60%, 55%); --store-accent-foreground: white; }
  .theme-category-home-goods { --store-accent: hsl(190, 50%, 55%); --store-accent-foreground: white; }
  .theme-category-toys { --store-accent: hsl(50, 100%, 60%); --store-accent-foreground: hsl(40, 80%, 10%); } /* Dark text for yellow */
  .theme-category-restaurants { --store-accent: hsl(15, 75%, 55%); --store-accent-foreground: white; }
  .theme-category-coffee-shops { --store-accent: hsl(35, 40%, 45%); --store-accent-foreground: white; }
  .theme-category-other { --store-accent: hsl(240, 10%, 50%); --store-accent-foreground: white; }

   /* Dark mode overrides for store accents */
  .dark .theme-category-toys { --store-accent: hsl(50, 100%, 65%); }
  .dark .theme-category-groceries { --store-accent: hsl(90, 50%, 55%); }
  /* Add others if needed */

}

@layer base {
  * {
    @apply border-border;
  }

  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
}

/* Typography Definitions */
@layer base {
    /* Base font size (e.g., 16px) */
    html {
        font-size: 16px; /* Or use rem/em */
    }

    /* Heading Styles - inspired by spec */
    h1, .h1 { @apply text-3xl font-extrabold tracking-tight lg:text-4xl; } /* Reduced size slightly */
    h2, .h2 { @apply text-2xl font-bold tracking-tight lg:text-3xl; }
    h3, .h3 { @apply text-xl font-semibold tracking-tight lg:text-2xl; }
    h4, .h4 { @apply text-lg font-semibold tracking-tight lg:text-xl; }

    /* Paragraph and Body Text */
    p { @apply leading-relaxed [&:not(:first-child)]:mt-4 text-base; } /* Base text size */
    .lead { @apply text-lg text-muted-foreground; } /* Adjusted size */
    .large { @apply text-base font-semibold lg:text-lg; } /* Adjusted size */
    .small { @apply text-sm font-medium leading-none; }
    .muted { @apply text-sm text-muted-foreground; }
    .extra-small { @apply text-xs tracking-wide; }

    /* Button Text - Uppercase added via component */
    .btn-text-uppercase-semibold {
        @apply uppercase font-semibold tracking-wider text-xs;
    }
}


/* Utility Classes */
@layer utilities {
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background;
  }
  .sr-only {
     position: absolute;
     width: 1px;
     height: 1px;
     padding: 0;
     margin: -1px;
     overflow: hidden;
     clip: rect(0, 0, 0, 0);
     white-space: nowrap;
     border-width: 0;
   }
   html {
     scroll-behavior: smooth;
   }
   /* Removed duplicate .btn-text-uppercase-semibold */
}

/* Custom scrollbar styles */
::-webkit-scrollbar {
  width: 6px; /* Narrower */
  height: 6px;
}
::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.05); /* Very subtle */
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background-color: hsl(var(--border) / 0.5); /* Semi-transparent */
  border-radius: 10px;
  border: 1px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--muted-foreground) / 0.5); /* Darker on hover */
}

/* Define the animations */
@keyframes slide-in-from-bottom {
  from { transform: translateY(10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
/* Wheel spinning animation */
@keyframes spin-wheel {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Apply animations */
.animate-slide-in { animation: slide-in-from-bottom 0.3s ease-out; }
.animate-fade-in { animation: fade-in 0.4s ease-in-out; }
.animate-spin { animation: spin 1s linear infinite; }
.animate-spin-wheel { animation: spin-wheel 0.8s linear infinite; } /* Added wheel animation */
.animate-shimmer {
  background-image: linear-gradient(90deg, hsl(var(--muted)/0.5) 25%, hsl(var(--muted)/0.7) 50%, hsl(var(--muted)/0.5) 75%);
  background-size: 400% 100%;
  animation: shimmer 1.2s infinite linear;
}

/* Visually Hidden Utility */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
