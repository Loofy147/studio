@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles - Using Inter font variable */
body {
  font-family: var(--font-inter), system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  @apply bg-background text-foreground;
  font-feature-settings: "rlig" 1, "calt" 1;
  @apply antialiased;
}

@layer base {
  /* --- SwiftDispatch Theme --- */
  :root {
    /* Color Palette */
    --teal-base: 180; /* H value for Teal #008080 */
    --gray-base: 0; /* H value for Gray #F0F0F0 */
    --orange-base: 39; /* H value for Orange #FFA500 */

    /* Light Mode Theme */
    --background: var(--gray-base) 0% 98%; /* Slightly off-white #FAFAFA (derived from F0F0F0) */
    --foreground: var(--teal-base) 20% 15%; /* Dark Teal text */
    --card: var(--gray-base) 0% 100%; /* White cards */
    --card-foreground: var(--teal-base) 20% 15%;
    --popover: var(--gray-base) 0% 100%; /* White popovers */
    --popover-foreground: var(--teal-base) 20% 15%;
    --primary: var(--teal-base) 100% 25.1%; /* Teal #008080 */
    --primary-foreground: var(--gray-base) 0% 100%; /* White */
    --secondary: var(--gray-base) 0% 94.1%; /* Light Gray #F0F0F0 */
    --secondary-foreground: var(--teal-base) 20% 15%; /* Dark Teal text on light gray */
    --muted: var(--gray-base) 0% 94.1%; /* Light Gray #F0F0F0 */
    --muted-foreground: var(--teal-base) 15% 45%; /* Muted Teal text */
    --accent: var(--orange-base) 100% 50%; /* Orange #FFA500 */
    --accent-foreground: var(--gray-base) 0% 10%; /* Dark text for Orange */
    --destructive: 0 84.2% 60.2%; /* Default Red */
    --destructive-foreground: 0 0% 98%; /* White */
    --border: var(--gray-base) 0% 87.1%; /* Slightly darker gray border #DEDEDE */
    --input: var(--gray-base) 0% 90.1%; /* Input border #E6E6E6 */
    --ring: var(--teal-base) 80% 60%; /* Lighter Teal for focus rings */

    --radius: 0.5rem;

    /* Chart Colors (Example) */
    --chart-1: hsl(var(--primary));
    --chart-2: hsl(var(--accent)); /* Orange */
    --chart-3: hsl(120, 70%, 45%); /* Green */
    --chart-4: hsl(210, 70%, 55%); /* Blue */
    --chart-5: hsl(330, 70%, 55%); /* Pink */

    /* Sidebar Theme Variables (Using new theme) */
    --sidebar-background: hsl(var(--gray-base) 0% 96%); /* Slightly darker gray than main bg */
    --sidebar-foreground: hsl(var(--foreground));
    --sidebar-primary: hsl(var(--primary));
    --sidebar-primary-foreground: hsl(var(--primary-foreground));
    --sidebar-accent: hsl(var(--secondary)); /* Use secondary gray for accent */
    --sidebar-accent-foreground: hsl(var(--secondary-foreground));
    --sidebar-border: hsl(var(--border));
    --sidebar-ring: hsl(var(--ring));
  }

  .dark {
    /* Dark Mode Theme */
    --background: var(--teal-base) 10% 12%; /* Very dark desaturated teal */
    --foreground: var(--gray-base) 0% 90%; /* Light gray text */
    --card: var(--teal-base) 10% 16%; /* Slightly lighter card bg */
    --card-foreground: var(--gray-base) 0% 90%;
    --popover: var(--teal-base) 10% 14%; /* Dark popover */
    --popover-foreground: var(--gray-base) 0% 90%;
    --primary: var(--teal-base) 80% 55%; /* Brighter Teal */
    --primary-foreground: var(--teal-base) 10% 10%; /* Very dark text */
    --secondary: var(--gray-base) 0% 20%; /* Dark Gray */
    --secondary-foreground: var(--gray-base) 0% 85%; /* Lighter gray text */
    --muted: var(--gray-base) 0% 25%; /* Slightly lighter dark gray */
    --muted-foreground: var(--gray-base) 0% 60%; /* Muted gray text */
    --accent: var(--orange-base) 90% 55%; /* Brighter Orange */
    --accent-foreground: var(--gray-base) 0% 10%; /* Dark text */
    --destructive: 0 70% 50%; /* Slightly muted red */
    --destructive-foreground: 0 0% 98%;
    --border: var(--gray-base) 0% 30%; /* Darker gray border */
    --input: var(--gray-base) 0% 25%; /* Input border matches muted */
    --ring: var(--teal-base) 70% 65%; /* Bright teal focus */

    /* Sidebar Dark */
    --sidebar-background: hsl(var(--teal-base) 10% 10%); /* Darkest */
    --sidebar-foreground: hsl(var(--foreground));
    --sidebar-primary: hsl(var(--primary));
    --sidebar-primary-foreground: hsl(var(--primary-foreground));
    --sidebar-accent: hsl(var(--gray-base) 0% 20%); /* Dark Gray accent */
    --sidebar-accent-foreground: hsl(var(--secondary-foreground));
    --sidebar-border: hsl(var(--border));
    --sidebar-ring: hsl(var(--ring));
  }

  /* --- Category Theme --- */
  /* Define themed variables for Store Categories */
  /* Base category theme using Secondary color */
  .theme-category-electronics,
  .theme-category-clothing,
  .theme-category-groceries,
  .theme-category-books,
  .theme-category-home-goods,
  .theme-category-toys,
  .theme-category-restaurants,
  .theme-category-coffee-shops,
  .theme-category-other {
    --store-accent: hsl(var(--secondary)); /* Default to secondary gray */
    --store-accent-foreground: hsl(var(--secondary-foreground));
  }

  /* Overrides for specific categories */
  .theme-category-electronics { --store-accent: hsl(210, 80%, 55%); --store-accent-foreground: white; } /* Blue */
  .theme-category-clothing { --store-accent: hsl(330, 60%, 60%); --store-accent-foreground: white; } /* Pink */
  .theme-category-groceries { --store-accent: hsl(90, 50%, 50%); --store-accent-foreground: white; } /* Green */
  .theme-category-books { --store-accent: hsl(30, 60%, 55%); --store-accent-foreground: white; } /* Brownish Orange */
  .theme-category-home-goods { --store-accent: hsl(190, 50%, 55%); --store-accent-foreground: white; } /* Cyan */
  .theme-category-toys { --store-accent: hsl(50, 100%, 60%); --store-accent-foreground: hsl(40, 80%, 10%); } /* Yellow (Dark Text) */
  .theme-category-restaurants { --store-accent: hsl(15, 75%, 55%); --store-accent-foreground: white; } /* Reddish Orange */
  .theme-category-coffee-shops { --store-accent: hsl(35, 40%, 45%); --store-accent-foreground: white; } /* Brown */
  .theme-category-other { --store-accent: hsl(240, 10%, 50%); --store-accent-foreground: white; } /* Grayish Blue */

   /* Dark mode overrides for store accents */
  .dark .theme-category-electronics { --store-accent: hsl(210, 80%, 65%); }
  .dark .theme-category-clothing { --store-accent: hsl(330, 60%, 70%); }
  .dark .theme-category-groceries { --store-accent: hsl(90, 50%, 60%); }
  .dark .theme-category-books { --store-accent: hsl(30, 60%, 65%); }
  .dark .theme-category-home-goods { --store-accent: hsl(190, 50%, 65%); }
  .dark .theme-category-toys { --store-accent: hsl(50, 100%, 65%); }
  .dark .theme-category-restaurants { --store-accent: hsl(15, 75%, 65%); }
  .dark .theme-category-coffee-shops { --store-accent: hsl(35, 40%, 55%); }
  .dark .theme-category-other { --store-accent: hsl(240, 10%, 60%); }
}

@layer base {
  * {
    @apply border-border;
  }

  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
}

/* Typography Definitions - Based on Theme Spec */
@layer base {
    html {
        font-size: 16px;
    }

    /* Headings */
    /* Heading 1: 32px, Bold */
    h1, .h1 { @apply text-[2rem] font-bold leading-tight tracking-tighter; } /* 32px */
    /* Heading 2: 24px, SemiBold */
    h2, .h2 { @apply text-[1.5rem] font-semibold leading-snug tracking-tight; } /* 24px */
    /* Heading 3: 20px, SemiBold */
    h3, .h3 { @apply text-[1.25rem] font-semibold leading-normal tracking-tight; } /* 20px */
    /* Heading 4: 18px, SemiBold */
    h4, .h4 { @apply text-[1.125rem] font-semibold leading-normal tracking-tight; } /* 18px */

    /* Paragraph and Body Text */
    /* Body 1 (default): 16px, Regular */
    p, body { @apply text-base font-normal leading-relaxed; } /* 16px */
    /* Body 2: 14px, Regular */
    .text-body2 { @apply text-sm font-normal leading-normal; } /* 14px */
    /* Lead text: Larger muted text */
    .lead { @apply text-lg font-normal text-muted-foreground; } /* 18px */

    /* Smaller text styles */
    /* Caption: 12px, Regular */
    .caption { @apply text-xs font-normal leading-none text-muted-foreground; } /* 12px */
    /* Overline: 10px, SemiBold, Uppercase */
    .overline { @apply text-[0.625rem] font-semibold uppercase tracking-wider text-muted-foreground; } /* 10px */


    /* Link styles */
    a {
      @apply text-primary underline-offset-4 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 rounded-sm;
    }

     /* Lists */
    ul, ol { @apply my-4 ml-6 [&>li]:mt-2; }
    li>ul, li>ol { @apply my-2; } /* Nested lists */

     /* Input/Label specific application */
    label {
      @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70; /* From spec */
    }
    /* Apply body2 to descriptions */
    [id$="-form-item-description"] {
       @apply text-body2 text-muted-foreground;
    }
    /* Apply body2 to form messages */
    [id$="-form-item-message"] {
        @apply text-body2 font-medium; /* Keep font-medium for errors */
    }

}


/* Utility Classes */
@layer utilities {
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background;
  }
  .sr-only {
     position: absolute;
     width: 1px;
     height: 1px;
     padding: 0;
     margin: -1px;
     overflow: hidden;
     clip: rect(0, 0, 0, 0);
     white-space: nowrap;
     border-width: 0;
   }
   html {
     scroll-behavior: smooth;
   }
   /* Button Text */
    .btn-text-uppercase-semibold {
        @apply uppercase font-semibold tracking-wider text-xs; /* Use 12px/semibold instead of 14px */
    }
}

/* Custom scrollbar styles */
::-webkit-scrollbar {
  width: 8px; /* Slightly wider */
  height: 8px;
}
::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.1); /* More subtle track */
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background-color: hsl(var(--border) / 0.6); /* Use border color, slightly transparent */
  border-radius: 10px;
  border: 2px solid transparent; /* Create inset effect */
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--muted-foreground) / 0.6); /* Darker on hover */
}

/* Define the animations */
@keyframes slide-in-from-bottom {
  from { transform: translateY(15px); opacity: 0; } /* Start slightly lower */
  to { transform: translateY(0); opacity: 1; }
}
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
/* Wheel spinning animation - Keep */
@keyframes spin-wheel {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
/* Subtle pulse for notification badges */
@keyframes pulse-badge {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(0.95); }
}
/* Ripple effect for buttons */
@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}


/* Apply animations */
.animate-slide-in { animation: slide-in-from-bottom 0.4s ease-out; } /* Slightly longer */
.animate-fade-in { animation: fade-in 0.5s ease-in-out; } /* Slightly longer */
.animate-spin { animation: spin 1s linear infinite; }
.animate-spin-wheel { animation: spin-wheel 1.5s linear infinite; } /* Slower wheel */
.animate-shimmer {
  /* Use theme colors for shimmer */
  background-image: linear-gradient(90deg, hsl(var(--muted)/0.5) 25%, hsl(var(--muted)/0.7) 50%, hsl(var(--muted)/0.5) 75%);
  background-size: 400% 100%;
  animation: shimmer 1.5s infinite linear; /* Slower shimmer */
}
.animate-pulse-badge {
   animation: pulse-badge 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Utility for Ripple effect (apply to button parent) */
.ripple-container {
  position: relative;
  overflow: hidden;
}
.ripple {
  position: absolute;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.6); /* White ripple */
  transform: scale(0);
  animation: ripple 600ms linear;
}
.dark .ripple {
   background-color: rgba(0, 0, 0, 0.4); /* Dark ripple */
}


/* Visually Hidden Utility */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
